<div class="flex">

  <div>
    <!--
    <div>
      <button (click)="addFishFormOn()">Ajouter</button>
    </div>
    -->
    <p-table
      [value]="fishList"
      [rows]="5"
      [paginator]="false"
      [showCurrentPageReport]="true"
      [tableStyle]="{ 'min-width': '50rem' }"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [rowsPerPageOptions]="[10, 25, 50]"
    >
      <ng-template pTemplate="header">
        <tr>
          <th style="width:25%">Nom Scientifique</th>
          <th style="width:25%">Pois moyen</th>
          <th style="width:25%">Niveau</th>
          <th style="width:25%">Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-fish>
        <tr>
          <td>{{fish.name}}</td>
          <td>{{fish.averageWeight}}</td>
          <td>{{fish.level.description}}</td>
          <td>
            <button (click)="deleteFish(fish.name)" class="relative align-middle select-none font-sans font-medium text-center uppercase transition-all disabled:opacity-50 disabled:shadow-none disabled:pointer-events-none w-10 max-w-[40px] h-10 max-h-[40px] rounded-lg text-xs text-blue-gray-500 hover:bg-blue-gray-500/10 active:bg-blue-gray-500/30" type="button">
                <span class="absolute top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2">
                <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 7V18C6 19.1046 6.89543 20 8 20H16C17.1046 20 18 19.1046 18 18V7M6 7H5M6 7H8M18 7H19M18 7H16M10 11V16M14 11V16M8 7V5C8 3.89543 8.89543 3 10 3H14C15.1046 3 16 3.89543 16 5V7M8 7H16" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                </span>
            </button>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="paginatorleft">
        <p-button type="button" icon="pi pi-plus" styleClass="p-button-text"></p-button>
      </ng-template>
      <ng-template pTemplate="paginatorright">
        <p-button type="button" icon="pi pi-cloud" styleClass="p-button-text"></p-button>
      </ng-template>
    </p-table>
  </div>

  <div class="p-4 bg-gray-100 h-screen w-1/3 fixed top-O right-0">
    <form [formGroup]="saveFishForm" *ngIf="addFishOn" (submit)="saveFish()">
      <div class="relative z-0 w-full mb-5">
        <input
          type="text"
          formControlName="name"
          placeholder="Nom scientifique"
          required
          class="pt-3 pb-2 block w-full px-0 mt-0 bg-transparent border-0 border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-black border-gray-200"
        />
      </div>
      <div class="relative z-0 w-full mb-5">
        <input
          type="number"
          formControlName="averageWeight"
          placeholder="Pois moyen"
          required
          class="pt-3 pb-2 block w-full px-0 mt-0 bg-transparent border-0 border-b-2 appearance-none focus:outline-none focus:ring-0 focus:border-black border-gray-200"
        />
      </div>
      <div class="relative z-0 w-full mb-5">
        <select
          formControlName="level"
          class="pt-3 pb-2 block w-full px-0 mt-0 bg-transparent border-0 border-b-2 appearance-none z-1 focus:outline-none focus:ring-0 focus:border-black border-gray-200"
        >
          <option [ngValue]="{ code: level.code }" *ngFor="let level of levels">{{level.description}}</option>
        </select>
      </div>
      <button
        type="submit"
        [disabled]="saveFishForm.invalid"
        class="w-full px-6 py-3 mt-3 text-md transition-all duration-150 ease-linear rounded-lg shadow outline-none bg-white hover:bg-gray-100 hover:shadow-lg focus:outline-none"
      >
        Ajouter
      </button>
    </form>
  </div>

</div>

